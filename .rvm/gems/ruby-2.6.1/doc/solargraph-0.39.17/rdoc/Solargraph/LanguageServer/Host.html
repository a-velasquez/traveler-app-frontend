<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Solargraph::LanguageServer::Host - solargraph-0.39.17 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="UriHelpers.html">Solargraph::LanguageServer::UriHelpers</a>
  
  
  
    <li><a class="include" href="../Logging.html">Solargraph::Logging</a>
  
  
  
    <li><a class="include" href="Host/Dispatch.html">Solargraph::LanguageServer::Host::Dispatch</a>
  
  
  
    <li><span class="include">Observable</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-allow_registration">#allow_registration</a>
    
    <li ><a href="#method-i-can_register-3F">#can_register?</a>
    
    <li ><a href="#method-i-cancel">#cancel</a>
    
    <li ><a href="#method-i-cancel-3F">#cancel?</a>
    
    <li ><a href="#method-i-catalog">#catalog</a>
    
    <li ><a href="#method-i-cataloger">#cataloger</a>
    
    <li ><a href="#method-i-change">#change</a>
    
    <li ><a href="#method-i-clear">#clear</a>
    
    <li ><a href="#method-i-client_capabilities">#client_capabilities</a>
    
    <li ><a href="#method-i-close">#close</a>
    
    <li ><a href="#method-i-completions_at">#completions_at</a>
    
    <li ><a href="#method-i-configure">#configure</a>
    
    <li ><a href="#method-i-create">#create</a>
    
    <li ><a href="#method-i-default_configuration">#default_configuration</a>
    
    <li ><a href="#method-i-definitions_at">#definitions_at</a>
    
    <li ><a href="#method-i-delete">#delete</a>
    
    <li ><a href="#method-i-diagnose">#diagnose</a>
    
    <li ><a href="#method-i-diagnoser">#diagnoser</a>
    
    <li ><a href="#method-i-document">#document</a>
    
    <li ><a href="#method-i-document_symbols">#document_symbols</a>
    
    <li ><a href="#method-i-dynamic_capability_options">#dynamic_capability_options</a>
    
    <li ><a href="#method-i-flush">#flush</a>
    
    <li ><a href="#method-i-folders">#folders</a>
    
    <li ><a href="#method-i-folding_ranges">#folding_ranges</a>
    
    <li ><a href="#method-i-generate_updater">#generate_updater</a>
    
    <li ><a href="#method-i-locate_pins">#locate_pins</a>
    
    <li ><a href="#method-i-normalize_separators">#normalize_separators</a>
    
    <li ><a href="#method-i-open">#open</a>
    
    <li ><a href="#method-i-open-3F">#open?</a>
    
    <li ><a href="#method-i-open_from_disk">#open_from_disk</a>
    
    <li ><a href="#method-i-options">#options</a>
    
    <li ><a href="#method-i-pending_requests">#pending_requests</a>
    
    <li ><a href="#method-i-prepare">#prepare</a>
    
    <li ><a href="#method-i-prepare_folders">#prepare_folders</a>
    
    <li ><a href="#method-i-prepare_rename-3F">#prepare_rename?</a>
    
    <li ><a href="#method-i-query_symbols">#query_symbols</a>
    
    <li ><a href="#method-i-queue">#queue</a>
    
    <li ><a href="#method-i-read_text">#read_text</a>
    
    <li ><a href="#method-i-receive">#receive</a>
    
    <li ><a href="#method-i-references_from">#references_from</a>
    
    <li ><a href="#method-i-register_capabilities">#register_capabilities</a>
    
    <li ><a href="#method-i-registered-3F">#registered?</a>
    
    <li ><a href="#method-i-remove">#remove</a>
    
    <li ><a href="#method-i-remove_folders">#remove_folders</a>
    
    <li ><a href="#method-i-requests">#requests</a>
    
    <li ><a href="#method-i-search">#search</a>
    
    <li ><a href="#method-i-send_notification">#send_notification</a>
    
    <li ><a href="#method-i-send_request">#send_request</a>
    
    <li ><a href="#method-i-show_message">#show_message</a>
    
    <li ><a href="#method-i-show_message_request">#show_message_request</a>
    
    <li ><a href="#method-i-signatures_at">#signatures_at</a>
    
    <li ><a href="#method-i-start">#start</a>
    
    <li ><a href="#method-i-stop">#stop</a>
    
    <li ><a href="#method-i-stopped-3F">#stopped?</a>
    
    <li ><a href="#method-i-synchronizing-3F">#synchronizing?</a>
    
    <li ><a href="#method-i-unregister_capabilities">#unregister_capabilities</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Solargraph::LanguageServer::Host">
  <h1 id="class-Solargraph::LanguageServer::Host" class="class">
    class Solargraph::LanguageServer::Host
  </h1>

  <section class="description">
    
<p>The language server protocol&#39;s data provider. Hosts are responsible for querying the library and processing messages. They also provide thread safety for multi-threaded transports.</p>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-client_capabilities" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">client_capabilities</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>
  <span class="ruby-ivar">@cancel_semaphore</span> = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@buffer_semaphore</span> = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@register_semaphore</span> = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@cancel</span> = []
  <span class="ruby-ivar">@buffer</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@stopped</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@next_request_id</span> = <span class="ruby-value">0</span>
  <span class="ruby-ivar">@dynamic_capabilities</span> = <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@registered_capabilities</span> = <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-allow_registration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allow_registration</span><span
            class="method-args">(method)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flag a method as available for dynamic registration.</p>

<p>@param method [String] The method name, e.g., &#39;textDocument/completion&#39; @return [void]</p>
          
          

          
          <div class="method-source-code" id="allow_registration-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">allow_registration</span> <span class="ruby-identifier">method</span>
  <span class="ruby-ivar">@register_semaphore</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@dynamic_capabilities</span>.<span class="ruby-identifier">add</span> <span class="ruby-identifier">method</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-can_register-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_register?</span><span
            class="method-args">(method)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>True if the specified LSP method can be dynamically registered.</p>

<p>@param method [String] @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="can_register-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">can_register?</span> <span class="ruby-identifier">method</span>
  <span class="ruby-ivar">@dynamic_capabilities</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cancel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel</span><span
            class="method-args">(id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Cancel the method with the specified ID.</p>

<p>@param id [Integer] @return [void]</p>
          
          

          
          <div class="method-source-code" id="cancel-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cancel</span> <span class="ruby-identifier">id</span>
  <span class="ruby-ivar">@cancel_semaphore</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-ivar">@cancel</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cancel-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel?</span><span
            class="method-args">(id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>True if the host received a request to cancel the method with the specified ID.</p>

<p>@param id [Integer] @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="cancel-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cancel?</span> <span class="ruby-identifier">id</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@cancel_semaphore</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@cancel</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">id</span> }
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-catalog" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">catalog</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="catalog-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 628</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">catalog</span>
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:catalog</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-change" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">change</span><span
            class="method-args">(params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Update a document from the parameters of a textDocument/didChange method.</p>

<p>@param params [Hash] @return [void]</p>
          
          

          
          <div class="method-source-code" id="change-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">change</span> <span class="ruby-identifier">params</span>
  <span class="ruby-identifier">updater</span> = <span class="ruby-identifier">generate_updater</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">async_update</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;textDocument&#39;</span>][<span class="ruby-string">&#39;uri&#39;</span>], <span class="ruby-identifier">updater</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;textDocument&#39;</span>][<span class="ruby-string">&#39;uri&#39;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">(id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Delete the specified ID from the list of cancelled IDs if it exists.</p>

<p>@param id [Integer] @return [void]</p>
          
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">clear</span> <span class="ruby-identifier">id</span>
  <span class="ruby-ivar">@cancel_semaphore</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-ivar">@cancel</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">id</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-client_capabilities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">client_capabilities</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="client_capabilities-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">client_capabilities</span>
  <span class="ruby-ivar">@client_capabilities</span> <span class="ruby-operator">||=</span> {}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-close" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">close</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Close the file specified by the URI.</p>

<p>@param uri [String] @return [void]</p>
          
          

          
          <div class="method-source-code" id="close-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">close</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Closing #{uri}&quot;</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">close</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-completions_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">completions_at</span><span
            class="method-args">(uri, line, column)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @param line [Integer] @param column [Integer] @return [Solargraph::SourceMap::Completion]</p>
          
          

          
          <div class="method-source-code" id="completions_at-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">completions_at</span> <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">completions_at</span> <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>), <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-configure" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">configure</span><span
            class="method-args">(update)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Update the configuration options with the provided hash.</p>

<p>@param update [Hash] @return [void]</p>
          
          

          
          <div class="method-source-code" id="configure-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">configure</span> <span class="ruby-identifier">update</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">update</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">update</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">LOG_LEVELS</span>[<span class="ruby-identifier">options</span>[<span class="ruby-string">&#39;logLevel&#39;</span>]] <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_LOG_LEVEL</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Respond to a notification that a file was created in the workspace. The libraries will determine whether the file should be merged; see <a href="../Library.html#method-i-create_from_disk"><code>Solargraph::Library#create_from_disk</code></a>.</p>

<p>@param uri [String] The file uri. @return [Boolean] True if a library accepted the file.</p>
          
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">create_from_disk</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">uri</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">open?</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_configuration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_configuration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash{String =&gt; Object}]</p>
          
          

          
          <div class="method-source-code" id="default_configuration-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 605</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">default_configuration</span>
  {
    <span class="ruby-string">&#39;completion&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;hover&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;symbols&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;definitions&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;rename&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;references&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;autoformat&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-string">&#39;diagnostics&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-string">&#39;formatting&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-string">&#39;folding&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-string">&#39;logLevel&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;warn&#39;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-definitions_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">definitions_at</span><span
            class="method-args">(uri, line, column)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @param line [Integer] @param column [Integer] @return [Array&lt;Solargraph::Pin::Base&gt;]</p>
          
          

          
          <div class="method-source-code" id="definitions_at-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 510</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">definitions_at</span> <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">definitions_at</span>(<span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>), <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Delete the specified file from the library.</p>

<p>@param uri [String] The file uri. @return [void]</p>
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&quot;textDocument/publishDiagnostics&quot;</span>, {
    <span class="ruby-value">uri:</span> <span class="ruby-identifier">uri</span>,
    <span class="ruby-value">diagnostics:</span> []
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-diagnose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diagnose</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @return [void]</p>
          
          

          
          <div class="method-source-code" id="diagnose-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">diagnose</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">uri</span>)
    <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">library</span>.<span class="ruby-identifier">synchronized?</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Diagnosing #{uri}&quot;</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">results</span> = <span class="ruby-identifier">library</span>.<span class="ruby-identifier">diagnose</span> <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>)
        <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&quot;textDocument/publishDiagnostics&quot;</span>, {
          <span class="ruby-value">uri:</span> <span class="ruby-identifier">uri</span>,
          <span class="ruby-value">diagnostics:</span> <span class="ruby-identifier">results</span>
        }
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DiagnosticsError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Error in diagnostics: #{e.message}&quot;</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-string">&#39;diagnostics&#39;</span>] = <span class="ruby-keyword">false</span>
        <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&#39;window/showMessage&#39;</span>, {
          <span class="ruby-value">type:</span> <span class="ruby-constant">LanguageServer</span><span class="ruby-operator">::</span><span class="ruby-constant">MessageTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">ERROR</span>,
          <span class="ruby-value">message:</span> <span class="ruby-node">&quot;Error in diagnostics: #{e.message}&quot;</span>
        }
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">FileNotFoundError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-comment"># @todo This appears to happen when an external file is open and</span>
        <span class="ruby-comment">#   scheduled for diagnosis, but the file was closed (i.e., the</span>
        <span class="ruby-comment">#   editor moved to a different file) before diagnosis started</span>
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Unable to diagnose #{uri} : #{e.message}&quot;</span>
        <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&#39;textDocument/publishDiagnostics&#39;</span>, {
          <span class="ruby-value">uri:</span> <span class="ruby-identifier">uri</span>,
          <span class="ruby-value">diagnostics:</span> []
        }
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Deferring diagnosis of #{uri}&quot;</span>
      <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">uri</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&#39;textDocument/publishDiagnostics&#39;</span>, {
      <span class="ruby-value">uri:</span> <span class="ruby-identifier">uri</span>,
      <span class="ruby-value">diagnostics:</span> []
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-document" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">document</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param query [String] @return [Array]</p>
          
          

          
          <div class="method-source-code" id="document-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 552</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">document</span> <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">document</span>(<span class="ruby-identifier">query</span>) }
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-document_symbols" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">document_symbols</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @return [Array&lt;Solargraph::Pin::Base&gt;]</p>
          
          

          
          <div class="method-source-code" id="document_symbols-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">document_symbols</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-comment"># At this level, document symbols should be unique; e.g., a</span>
  <span class="ruby-comment"># module_function method should return the location for Module.method</span>
  <span class="ruby-comment"># or Module#method, but not both.</span>
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">document_symbols</span>(<span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>)).<span class="ruby-identifier">uniq</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:location</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-flush" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flush</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Clear the message buffer and return the most recent data.</p>

<p>@return [String] The most recent data or an empty string.</p>
          
          

          
          <div class="method-source-code" id="flush-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">flush</span>
  <span class="ruby-identifier">tmp</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-ivar">@buffer_semaphore</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">tmp</span> = <span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">tmp</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-folders" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">folders</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Array&lt;String&gt;]</p>
          
          

          
          <div class="method-source-code" id="folders-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">folders</span>
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">workspace</span>.<span class="ruby-identifier">directory</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-folding_ranges" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">folding_ranges</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @return [Array&lt;Range&gt;]</p>
          
          

          
          <div class="method-source-code" id="folding_ranges-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 623</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">folding_ranges</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">uri</span>).<span class="ruby-identifier">folding_ranges</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-locate_pins" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">locate_pins</span><span
            class="method-args">(params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Locate multiple pins that match a completion item. The first match is based on the corresponding location in a library source if available. Subsequent matches are based on path.</p>

<p>@param params [Hash] A hash representation of a completion item @return [Array&lt;Pin::Base&gt;]</p>
          
          

          
          <div class="method-source-code" id="locate_pins-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 466</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">locate_pins</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;uri&#39;</span>]
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;uri&#39;</span>])
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>]
    <span class="ruby-identifier">location</span> = <span class="ruby-constant">Location</span>.<span class="ruby-identifier">new</span>(
      <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>][<span class="ruby-string">&#39;filename&#39;</span>],
      <span class="ruby-constant">Range</span>.<span class="ruby-identifier">from_to</span>(
        <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>][<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;start&#39;</span>][<span class="ruby-string">&#39;line&#39;</span>],
        <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>][<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;start&#39;</span>][<span class="ruby-string">&#39;character&#39;</span>],
        <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>][<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;end&#39;</span>][<span class="ruby-string">&#39;line&#39;</span>],
        <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;location&#39;</span>][<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;end&#39;</span>][<span class="ruby-string">&#39;character&#39;</span>]
      )
    )
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">library</span>.<span class="ruby-identifier">locate_pins</span>(<span class="ruby-identifier">location</span>).<span class="ruby-identifier">select</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">pin</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pin</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;label&#39;</span>] }
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;path&#39;</span>]
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">library</span>.<span class="ruby-identifier">path_pins</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;data&#39;</span>][<span class="ruby-string">&#39;path&#39;</span>])
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># Selecting by both location and path can result in duplicate pins</span>
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">uniq</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">p</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">location</span>] }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-open" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">open</span><span
            class="method-args">(uri, text, version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Open the specified file in the library.</p>

<p>@param uri [String] The file uri. @param text [String] The contents of the file. @param version [Integer] A version number. @return [void]</p>
          
          

          
          <div class="method-source-code" id="open-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">open</span> <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">text</span>, <span class="ruby-identifier">version</span>
  <span class="ruby-identifier">src</span> = <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">text</span>, <span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">merge</span> <span class="ruby-identifier">src</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-open-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">open?</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>True if the specified file is currently open in the library.</p>

<p>@param uri [String] @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="open-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">open?</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-open_from_disk" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">open_from_disk</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @return [void]</p>
          
          

          
          <div class="method-source-code" id="open_from_disk-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 165</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">open_from_disk</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">open_from_disk</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-comment"># library.open_from_disk uri_to_file(uri)</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">schedule</span> <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash]</p>
          
          

          
          <div class="method-source-code" id="options-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">options</span>
  <span class="ruby-ivar">@options</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">default_configuration</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pending_requests" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pending_requests</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get a list of IDs for server requests that are waiting for responses from the client.</p>

<p>@return [Array&lt;Integer&gt;]</p>
          
          

          
          <div class="method-source-code" id="pending_requests-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 600</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pending_requests</span>
  <span class="ruby-identifier">requests</span>.<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-prepare" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepare</span><span
            class="method-args">(directory, name = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Prepare a library for the specified directory.</p>

<p>@param directory [String] @param name [String, nil] @return [void]</p>
          
          

          
          <div class="method-source-code" id="prepare-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">prepare</span> <span class="ruby-identifier">directory</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-comment"># No need to create a library without a directory. The generic library</span>
  <span class="ruby-comment"># will handle it.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">directory</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Preparing library for #{directory}&quot;</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">normalize_separators</span>(<span class="ruby-identifier">directory</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">directory</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">lib</span> = <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">Library</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">lib</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">WorkspaceTooLargeError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&#39;window/showMessage&#39;</span>, {
      <span class="ruby-string">&#39;type&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">LanguageServer</span><span class="ruby-operator">::</span><span class="ruby-constant">MessageTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">WARNING</span>,
      <span class="ruby-string">&#39;message&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-prepare_folders" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepare_folders</span><span
            class="method-args">(array)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Prepare multiple folders.</p>

<p>@param array [Array&lt;Hash{String =&gt; String}&gt;] @return [void]</p>
          
          

          
          <div class="method-source-code" id="prepare_folders-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">prepare_folders</span> <span class="ruby-identifier">array</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">array</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">folder</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">prepare</span> <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">folder</span>[<span class="ruby-string">&#39;uri&#39;</span>]), <span class="ruby-identifier">folder</span>[<span class="ruby-string">&#39;name&#39;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-query_symbols" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">query_symbols</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param query [String] @return [Array&lt;Solargraph::Pin::Base&gt;]</p>
          
          

          
          <div class="method-source-code" id="query_symbols-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">query_symbols</span> <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">result</span> = []
  (<span class="ruby-identifier">libraries</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">generic_library</span>]).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">query_symbols</span>(<span class="ruby-identifier">query</span>) }
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-queue" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">queue</span><span
            class="method-args">(message)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Queue a message to be sent to the client.</p>

<p>@param message [String] The message to send. @return [void]</p>
          
          

          
          <div class="method-source-code" id="queue-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">queue</span> <span class="ruby-identifier">message</span>
  <span class="ruby-ivar">@buffer_semaphore</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-ivar">@buffer</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">message</span> }
  <span class="ruby-identifier">changed</span>
  <span class="ruby-identifier">notify_observers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-read_text" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read_text</span><span
            class="method-args">(uri)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @return [String]</p>
          
          

          
          <div class="method-source-code" id="read_text-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 491</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">read_text</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">read_text</span>(<span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-receive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">receive</span><span
            class="method-args">(request)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Start processing a request from the client. After the message is processed, the transport is responsible for sending the response.</p>

<p>@param request [Hash] The contents of the message. @return [Solargraph::LanguageServer::Message::Base] The message handler.</p>
          
          

          
          <div class="method-source-code" id="receive-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">receive</span> <span class="ruby-identifier">request</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;method&#39;</span>]
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Server received #{request[&#39;method&#39;]}&quot;</span>
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">request</span>
    <span class="ruby-identifier">message</span> = <span class="ruby-constant">Message</span>.<span class="ruby-identifier">select</span>(<span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;method&#39;</span>]).<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">request</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">message</span>.<span class="ruby-identifier">process</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Error processing request: [#{e.class}] #{e.message}&quot;</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
      <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_error</span> <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">LanguageServer</span><span class="ruby-operator">::</span><span class="ruby-constant">ErrorCodes</span><span class="ruby-operator">::</span><span class="ruby-constant">INTERNAL_ERROR</span>, <span class="ruby-node">&quot;[#{e.class}] #{e.message}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">message</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;id&#39;</span>]
    <span class="ruby-comment"># @todo What if the id is invalid?</span>
    <span class="ruby-identifier">requests</span>[<span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;id&#39;</span>]].<span class="ruby-identifier">process</span>(<span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;result&#39;</span>])
    <span class="ruby-identifier">requests</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">request</span>[<span class="ruby-string">&#39;id&#39;</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Invalid message received.&quot;</span>
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">request</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-references_from" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">references_from</span><span
            class="method-args">(uri, line, column, strip: true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @param line [Integer] @param column [Integer] @param strip [Boolean] Strip special characters from variable names @return [Array&lt;Solargraph::Range&gt;]</p>
          
          

          
          <div class="method-source-code" id="references_from-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 529</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">references_from</span> <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>, <span class="ruby-value">strip:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">references_from</span>(<span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>), <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>, <span class="ruby-value">strip:</span> <span class="ruby-identifier">strip</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-register_capabilities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">register_capabilities</span><span
            class="method-args">(methods)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Register the methods as capabilities with the client. This method will avoid duplicating registrations and ignore methods that were not flagged for dynamic registration by the client.</p>

<p>@param methods [Array&lt;String&gt;] The methods to register @return [void]</p>
          
          

          
          <div class="method-source-code" id="register_capabilities-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 374</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">register_capabilities</span> <span class="ruby-identifier">methods</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Registering capabilities: #{methods}&quot;</span>
  <span class="ruby-identifier">registrations</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">can_register?</span>(<span class="ruby-identifier">m</span>) <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">registered?</span>(<span class="ruby-identifier">m</span>)}.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@registered_capabilities</span>.<span class="ruby-identifier">add</span> <span class="ruby-identifier">m</span>
    {
      <span class="ruby-value">id:</span> <span class="ruby-identifier">m</span>,
      <span class="ruby-value">method:</span> <span class="ruby-identifier">m</span>,
      <span class="ruby-value">registerOptions:</span> <span class="ruby-identifier">dynamic_capability_options</span>[<span class="ruby-identifier">m</span>]
    }
  }
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">registrations</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-ivar">@register_semaphore</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">send_request</span> <span class="ruby-string">&#39;client/registerCapability&#39;</span>, {
      <span class="ruby-value">registrations:</span> <span class="ruby-identifier">registrations</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-registered-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">registered?</span><span
            class="method-args">(method)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>True if the specified method has been registered.</p>

<p>@param method [String] The method name, e.g., &#39;textDocument/completion&#39; @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="registered-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">registered?</span> <span class="ruby-identifier">method</span>
  <span class="ruby-ivar">@registered_capabilities</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-remove" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove</span><span
            class="method-args">(directory)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Remove a directory.</p>

<p>@param directory [String] @return [void]</p>
          
          

          
          <div class="method-source-code" id="remove-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">remove</span> <span class="ruby-identifier">directory</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Removing library for #{directory}&quot;</span>
  <span class="ruby-comment"># @param lib [Library]</span>
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">delete_if</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">workspace</span>.<span class="ruby-identifier">directory</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">directory</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-remove_folders" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_folders</span><span
            class="method-args">(array)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param array [Array&lt;Hash&gt;] @return [void]</p>
          
          

          
          <div class="method-source-code" id="remove_folders-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">remove_folders</span> <span class="ruby-identifier">array</span>
  <span class="ruby-identifier">array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">folder</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">remove</span> <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">folder</span>[<span class="ruby-string">&#39;uri&#39;</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-search" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">search</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param query [String] @return [Array&lt;String&gt;]</p>
          
          

          
          <div class="method-source-code" id="search-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 544</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search</span> <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">lib</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">query</span>) }
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_notification" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_notification</span><span
            class="method-args">(method, params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a notification to the client.</p>

<p>@param method [String] The message method @param params [Hash] The method parameters @return [void]</p>
          
          

          
          <div class="method-source-code" id="send_notification-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 330</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_notification</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>
  <span class="ruby-identifier">response</span> = {
    <span class="ruby-value">jsonrpc:</span> <span class="ruby-string">&quot;2.0&quot;</span>,
    <span class="ruby-value">method:</span> <span class="ruby-identifier">method</span>,
    <span class="ruby-value">params:</span> <span class="ruby-identifier">params</span>
  }
  <span class="ruby-identifier">json</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">to_json</span>
  <span class="ruby-identifier">envelope</span> = <span class="ruby-node">&quot;Content-Length: #{json.bytesize}\r\n\r\n#{json}&quot;</span>
  <span class="ruby-identifier">queue</span> <span class="ruby-identifier">envelope</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Server sent #{method}&quot;</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_request" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_request</span><span
            class="method-args">(method, params, &amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a request to the client and execute the provided block to process the response. If an ID is not provided, the host will use an auto- incrementing integer.</p>

<p>@param method [String] The message method @param params [Hash] The method parameters @param block [Proc] The block that processes the response @yieldparam [Hash] The result sent by the client @return [void]</p>
          
          

          
          <div class="method-source-code" id="send_request-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 352</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_request</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">message</span> = {
    <span class="ruby-value">jsonrpc:</span> <span class="ruby-string">&quot;2.0&quot;</span>,
    <span class="ruby-value">method:</span> <span class="ruby-identifier">method</span>,
    <span class="ruby-value">params:</span> <span class="ruby-identifier">params</span>,
    <span class="ruby-value">id:</span> <span class="ruby-ivar">@next_request_id</span>
  }
  <span class="ruby-identifier">json</span> = <span class="ruby-identifier">message</span>.<span class="ruby-identifier">to_json</span>
  <span class="ruby-identifier">requests</span>[<span class="ruby-ivar">@next_request_id</span>] = <span class="ruby-constant">Request</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@next_request_id</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">envelope</span> = <span class="ruby-node">&quot;Content-Length: #{json.bytesize}\r\n\r\n#{json}&quot;</span>
  <span class="ruby-identifier">queue</span> <span class="ruby-identifier">envelope</span>
  <span class="ruby-ivar">@next_request_id</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Server sent #{method}&quot;</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-show_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_message</span><span
            class="method-args">(text, type = LanguageServer::MessageTypes::INFO)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a notification to the client.</p>

<p>@param text [String] @param type [Integer] A MessageType constant @return [void]</p>
          
          

          
          <div class="method-source-code" id="show_message-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">show_message</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">type</span> = <span class="ruby-constant">LanguageServer</span><span class="ruby-operator">::</span><span class="ruby-constant">MessageTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">INFO</span>
  <span class="ruby-identifier">send_notification</span> <span class="ruby-string">&#39;window/showMessage&#39;</span>, {
    <span class="ruby-value">type:</span> <span class="ruby-identifier">type</span>,
    <span class="ruby-value">message:</span> <span class="ruby-identifier">text</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-show_message_request" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_message_request</span><span
            class="method-args">(text, type, actions, &amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a notification with optional responses.</p>

<p>@param text [String] @param type [Integer] A MessageType constant @param actions [Array&lt;String&gt;] Response options for the client @param block The block that processes the response @yieldparam [String] The action received from the client @return [void]</p>
          
          

          
          <div class="method-source-code" id="show_message_request-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">show_message_request</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">actions</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">send_request</span> <span class="ruby-string">&#39;window/showMessageRequest&#39;</span>, {
    <span class="ruby-value">type:</span> <span class="ruby-identifier">type</span>,
    <span class="ruby-value">message:</span> <span class="ruby-identifier">text</span>,
    <span class="ruby-value">actions:</span> <span class="ruby-identifier">actions</span>
  }, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-signatures_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">signatures_at</span><span
            class="method-args">(uri, line, column)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param uri [String] @param line [Integer] @param column [Integer] @return [Array&lt;Solargraph::Pin::Base&gt;]</p>
          
          

          
          <div class="method-source-code" id="signatures_at-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 519</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">signatures_at</span> <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>
  <span class="ruby-identifier">library</span> = <span class="ruby-identifier">library_for</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-identifier">library</span>.<span class="ruby-identifier">signatures_at</span>(<span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">uri</span>), <span class="ruby-identifier">line</span>, <span class="ruby-identifier">column</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-start" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Start asynchronous process handling.</p>

<p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="start-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">stopped?</span>
  <span class="ruby-ivar">@stopped</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">start</span>
  <span class="ruby-identifier">cataloger</span>.<span class="ruby-identifier">start</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">start</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stop</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="stop-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 446</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">stop</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@stopped</span>
  <span class="ruby-ivar">@stopped</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">cataloger</span>.<span class="ruby-identifier">stop</span>
  <span class="ruby-identifier">diagnoser</span>.<span class="ruby-identifier">stop</span>
  <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">stop</span>
  <span class="ruby-identifier">changed</span>
  <span class="ruby-identifier">notify_observers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stopped-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stopped?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="stopped-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">stopped?</span>
  <span class="ruby-ivar">@stopped</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-synchronizing-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">synchronizing?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="synchronizing-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">synchronizing?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">libraries</span>.<span class="ruby-identifier">all?</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:synchronized?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unregister_capabilities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unregister_capabilities</span><span
            class="method-args">(methods)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Unregister the methods with the client. This method will avoid duplicating unregistrations and ignore methods that were not flagged for dynamic registration by the client.</p>

<p>@param methods [Array&lt;String&gt;] The methods to unregister @return [void]</p>
          
          

          
          <div class="method-source-code" id="unregister_capabilities-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 398</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unregister_capabilities</span> <span class="ruby-identifier">methods</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Unregistering capabilities: #{methods}&quot;</span>
  <span class="ruby-identifier">unregisterations</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">registered?</span>(<span class="ruby-identifier">m</span>)}.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@registered_capabilities</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">m</span>
    {
      <span class="ruby-value">id:</span> <span class="ruby-identifier">m</span>,
      <span class="ruby-value">method:</span> <span class="ruby-identifier">m</span>
    }
  }
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">unregisterations</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-ivar">@register_semaphore</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">send_request</span> <span class="ruby-string">&#39;client/unregisterCapability&#39;</span>, {
      <span class="ruby-value">unregisterations:</span> <span class="ruby-identifier">unregisterations</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-cataloger" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cataloger</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Cataloger]</p>
          
          

          
          <div class="method-source-code" id="cataloger-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 644</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cataloger</span>
  <span class="ruby-ivar">@cataloger</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Cataloger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-diagnoser" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diagnoser</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Diagnoser]</p>
          
          

          
          <div class="method-source-code" id="diagnoser-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 639</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">diagnoser</span>
  <span class="ruby-ivar">@diagnoser</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Diagnoser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-dynamic_capability_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dynamic_capability_options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash]</p>
          
          

          
          <div class="method-source-code" id="dynamic_capability_options-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 684</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dynamic_capability_options</span>
  <span class="ruby-ivar">@dynamic_capability_options</span> <span class="ruby-operator">||=</span> {
    <span class="ruby-comment"># textDocumentSync: 2, # @todo What should this be?</span>
    <span class="ruby-string">&#39;textDocument/completion&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">resolveProvider:</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-value">triggerCharacters:</span> [<span class="ruby-string">&#39;.&#39;</span>, <span class="ruby-string">&#39;:&#39;</span>, <span class="ruby-string">&#39;@&#39;</span>]
    },
    <span class="ruby-comment"># hoverProvider: true,</span>
    <span class="ruby-comment"># definitionProvider: true,</span>
    <span class="ruby-string">&#39;textDocument/signatureHelp&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">triggerCharacters:</span> [<span class="ruby-string">&#39;(&#39;</span>, <span class="ruby-string">&#39;,&#39;</span>, <span class="ruby-string">&#39; &#39;</span>]
    },
    <span class="ruby-comment"># documentFormattingProvider: true,</span>
    <span class="ruby-string">&#39;textDocument/onTypeFormatting&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">firstTriggerCharacter:</span> <span class="ruby-string">&#39;{&#39;</span>,
      <span class="ruby-value">moreTriggerCharacter:</span> [<span class="ruby-string">&#39;(&#39;</span>]
    },
    <span class="ruby-comment"># documentSymbolProvider: true,</span>
    <span class="ruby-comment"># workspaceSymbolProvider: true,</span>
    <span class="ruby-comment"># workspace: {</span>
      <span class="ruby-comment"># workspaceFolders: {</span>
        <span class="ruby-comment"># supported: true,</span>
        <span class="ruby-comment"># changeNotifications: true</span>
      <span class="ruby-comment"># }</span>
    <span class="ruby-comment"># }</span>
    <span class="ruby-string">&#39;textDocument/definition&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">definitionProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/references&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">referencesProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/rename&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">renameProvider:</span> <span class="ruby-identifier">prepare_rename?</span> <span class="ruby-operator">?</span> { <span class="ruby-value">prepareProvider:</span> <span class="ruby-keyword">true</span> } <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/documentSymbol&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">documentSymbolProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;workspace/symbol&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">workspaceSymbolProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/formatting&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">formattingProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/foldingRange&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">foldingRangeProvider:</span> <span class="ruby-keyword">true</span>
    },
    <span class="ruby-string">&#39;textDocument/codeAction&#39;</span> <span class="ruby-operator">=&gt;</span> {
      <span class="ruby-value">codeActionProvider:</span> <span class="ruby-keyword">true</span>
    }
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-generate_updater" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_updater</span><span
            class="method-args">(params)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param params [Hash] @return [Source::Updater]</p>
          
          

          
          <div class="method-source-code" id="generate_updater-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_updater</span> <span class="ruby-identifier">params</span>
  <span class="ruby-identifier">changes</span> = []
  <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;contentChanges&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chng</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">changes</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Change</span>.<span class="ruby-identifier">new</span>(
      (<span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;range&#39;</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> 
        <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span>
        <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">from_to</span>(<span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;start&#39;</span>][<span class="ruby-string">&#39;line&#39;</span>], <span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;start&#39;</span>][<span class="ruby-string">&#39;character&#39;</span>], <span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;end&#39;</span>][<span class="ruby-string">&#39;line&#39;</span>], <span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;range&#39;</span>][<span class="ruby-string">&#39;end&#39;</span>][<span class="ruby-string">&#39;character&#39;</span>])
      ),
      <span class="ruby-identifier">chng</span>[<span class="ruby-string">&#39;text&#39;</span>]
    )
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Solargraph</span><span class="ruby-operator">::</span><span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Updater</span>.<span class="ruby-identifier">new</span>(
    <span class="ruby-identifier">uri_to_file</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;textDocument&#39;</span>][<span class="ruby-string">&#39;uri&#39;</span>]),
    <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;textDocument&#39;</span>][<span class="ruby-string">&#39;version&#39;</span>],
    <span class="ruby-identifier">changes</span>
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-normalize_separators" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">normalize_separators</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param path [String] @return [String]</p>
          
          

          
          <div class="method-source-code" id="normalize_separators-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 658</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize_separators</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">ALT_SEPARATOR</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">ALT_SEPARATOR</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-prepare_rename-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepare_rename?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="prepare_rename-3F-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 736</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">prepare_rename?</span>
  <span class="ruby-identifier">client_capabilities</span>[<span class="ruby-string">&#39;rename&#39;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">client_capabilities</span>[<span class="ruby-string">&#39;rename&#39;</span>][<span class="ruby-string">&#39;prepareSupport&#39;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-requests" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">requests</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A hash of client requests by ID. The host uses this to keep track of pending responses.</p>

<p>@return [Hash{Integer =&gt; Hash}]</p>
          
          

          
          <div class="method-source-code" id="requests-source">
            <pre><span class="ruby-comment"># File lib/solargraph/language_server/host.rb, line 652</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">requests</span>
  <span class="ruby-ivar">@requests</span> <span class="ruby-operator">||=</span> {}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

